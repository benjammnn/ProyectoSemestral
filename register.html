<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style-register.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-md navbar-light" style="background-color:steelblue;">
      <div class="container-fluid">
        <a class="navbar-brand" href="Index.html">
          <img src="img/logoduoc2.png" alt="" width="80" height="">
          Matcher
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="Index.html">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Caracteristicas</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Sobre Nosotros
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Unete a nuestro equipo<a></li>
                <li><a class="dropdown-item" href="#">Preguntas frecuentes</a></li>
                <li><a class="dropdown-item" href="#">Contáctanos</a></li>
              </ul>
            </li>
          </ul>
          <a href="login.html" class="ms-auto pe-3">
            <button type="button" class="btn btn-primary">Iniciar Sesión</button>
          </a>
        </div>
      </div>
    </nav>
  </header>
  <main>
    <div class="container-fluid" style="display: flex; align-items: center; justify-content: center;">
      <div class="row" style="width:auto;">
        <form id="formulario" action="" method="POST" class="form form-active col-md-12 mx-auto shadow-lg text-center p-4">
          <h2 class="title title-second" style="display: flex; align-items: center; justify-content: center;">Registro</h2>
          <br>
          <div id="mensajesError" class="alert alert-danger" style="display: none;"></div>
          <div class="container-fluid">
            <div style="text-align: center;">
              <label class="label-input" for="nombres">
                <input type="text" placeholder="Nombres" name="names" id="nombres" required>
              </label>

              <label class="label-input" for="apellidos">
                <input type="text" placeholder="Apellidos" name="lastnames" id="apellidos" required>
              </label>
            </div>
            <div>
              <p>
                <label class="label-input" for="rut">
                  <input type="text" placeholder="Escriba su rut con el siguiente formato XX.XXX.XXX-X" style="width: 381px;" name="id" id="rut" required>
                </label>
              </p>
            </div>
            <div>
              <p>
                <label class="label-input" for="carrera">
                  <input type="text" placeholder="Carrera" name="profession" id="carrera" required>
                </label>
                <label for="studyLevel"></label>
                <select id="studyLevel" name="studyLevel" required style="width: 184px;">
                  <option value="" disabled selected>Nivel de estudio</option>
                  <option value="Semestre 1">Semestre 1</option>
                  <option value="Semestre 2">Semestre 2</option>
                  <option value="Semestre 3">Semestre 3</option>
                  <option value="Semestre 4">Semestre 4</option>
                  <option value="Semestre 5">Semestre 5</option>
                  <option value="Semestre 6">Semestre 6</option>
                  <option value="Semestre 7">Semestre 7</option>
                  <option value="Semestre 8">Semestre 8</option>
                </select>
              </p>
            </div>
            <div style="text-align: center;">
              <p>
                <label class="label-input" for="mail">
                  <input type="email" placeholder="Email" id="mail" name="mail" style="width: 381px;" required>
                </label>
              </p>
            </div>
            <div style="text-align: center;">
              <label class="label-input" for="password">
                <input type="password" placeholder="Contraseña" id="password" name="password" style="width: 381px;" required>
              </label>
            </div>
          </div>

          <div class="container-fluid">
            <div style="text-align: center;">
              <p>
                Fecha de nacimiento
              </p>
              <p>
                <label for="day"></label>
                <input type="number" id="day" name="day" min="1" max="31" placeholder="Día" required>

                <label for="month"></label>
                <select id="birthMonth" name="birthMonth" required>
                  <option value="" disabled selected>Seleccione el mes</option>
                  <option value="enero">Ene</option>
                  <option value="febrero">Feb</option>
                  <option value="marzo">Mar</option>
                  <option value="abril">Abr</option>
                  <option value="mayo">May</option>
                  <option value="junio">Jun</option>
                  <option value="julio">Jul</option>
                  <option value="agosto">Ago</option>
                  <option value="septiembre">Sept</option>
                  <option value="octubre">Oct</option>
                  <option value="noviembre">Nov</option>
                  <option value="diciembre">Dic</option>
                </select>

                <label for="year"></label>
                <input type="number" id="year" name="year" min="1900" max="2011" placeholder="Año" required>
                <br>
                Sexo
                <br>

                <input type="radio" id="male" name="gender" value="masculino" required>
                <label for="male">Masculino</label>

                <input type="radio" id="female" name="gender" value="femenino" required>
                <label for="female">Femenino</label>

                <input type="radio" id="other" name="gender" value="otro" required>
                <label for="other">Otro</label>
              </p><br>
              <button type="submit" class="btn btn-primary" style="width: 189px; height: 40px;">Registrarse</button>
              <br><a class="password" href="login.html">Tengo cuenta</a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </main>
  <footer>
    <div class="container-fluid" style="width: auto; display: flex; justify-content: center;">
      <div>
        Al hacer clic en "Registrarte", aceptas nuestras Condiciones,
        <br>la Política de privacidad y la Política de cookies. Es posible
        <br>que te enviemos notificaciones por SMS, que puedes
        <br>desactivar cuando quieras.
      </div>
    </div>
  </footer>
  <script>
    $(document).ready(function () {
      $("#formulario").on("submit", function (event) {
        event.preventDefault();

        // Variables
        let nombres = $("#nombres").val().trim();
        let apellidos = $("#apellidos").val().trim();
        let rut = $("#rut").val().trim();
        let carrera = $("#carrera").val().trim();
        let email = $("#mail").val().trim();
        let password = $("#password").val().trim();
        let day = $("#day").val();
        let month = $("#birthMonth").val();
        let year = $("#year").val();
        let gender = $("input[name='gender']:checked").val();

        // Validaciones
        let valid = true;
        let errorMessages = "";

        // Nombres y apellidos no vacíos
        if (!nombres) {
          valid = false;
          errorMessages += "<p>El campo Nombres es obligatorio.</p>";
        }

        if (!apellidos) {
          valid = false;
          errorMessages += "<p>El campo Apellidos es obligatorio.</p>";
        }

        // RUT formato correcto (simple validación básica)
        let rutRegex = /^[0-9]{2}\.[0-9]{3}\.[0-9]{3}-[0-9kK]{1}$/;
        if (!rutRegex.test(rut)) {
          valid = false;
          errorMessages += "<p>El campo RUT no tiene el formato correcto.</p>";
        }

        // Carrera no vacía
        if (!carrera) {
          valid = false;
          errorMessages += "<p>El campo Carrera es obligatorio.</p>";
        }

        // Email formato correcto
        let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          valid = false;
          errorMessages += "<p>El campo Email no tiene el formato correcto.</p>";
        }

        // Contraseña no vacía
        if (!password) {
          valid = false;
          errorMessages += "<p>El campo Contraseña es obligatorio.</p>";
        }

        // Fecha de nacimiento válida
        if (!day || !month || !year) {
          valid = false;
          errorMessages += "<p>La Fecha de nacimiento es obligatoria.</p>";
        }

        // Género seleccionado
        if (!gender) {
          valid = false;
          errorMessages += "<p>El campo Sexo es obligatorio.</p>";
        }

        // Mostrar mensajes de error
        if (!valid) {
          $("#mensajesError").html(errorMessages).show();
        } else {
          // Si todo es válido, puedes enviar el formulario o realizar otras acciones
          alert("Formulario válido. Procesando registro...");
          // Aquí puedes enviar el formulario usando AJAX o permitir el envío estándar
          // this.submit();
        }
      });
    });
  </script>
</body>

</html>
